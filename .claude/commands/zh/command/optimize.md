---
description: '分析并优化指定的 Claude Code 命令，提升其执行效果和用户体验'
allowed-tools: Read, Write, Bash, Glob, Grep, LS
---

## Context

- **目标命令文件**: $ARGUMENTS
- **当前命令内容**: @$ARGUMENTS

## Your Task

**角色 (Role):** 你是一位资深的 Claude Code 命令架构师，专注于命令优化和工程化最佳实践。

**目标 (Goal):** 深度分析指定的命令文件，识别改进机会并直接优化替换原文件。

## 优化评估框架

### 1. 声明式完整性

- **description**: 简洁明确，准确描述命令功能
- **allowed-tools**: 最小权限原则，只包含必需工具

### 2. 上下文最优性

- 提供充足但不冗余的上下文信息
- 优先使用 `@file` 和 `$ARGUMENTS` 等直接引用
- 避免不必要的动态命令调用

### 3. 任务逻辑清晰性

- 角色定义明确且与任务匹配
- 目标具体可执行，避免模糊描述
- 执行流程逻辑严密，易于理解和遵循

### 4. 用户体验优化

- 提供清晰的错误处理和反馈机制
- 确保命令输出对用户有价值
- 优化参数设计，使其直观易用

## 执行要求

1. **深度分析**: 使用 `Read` 工具仔细分析目标命令的结构、逻辑和潜在问题
2. **识别改进点**: 基于上述优化评估框架，识别所有改进机会
3. **架构重构**: 应用最佳实践，重构命令结构和内容
4. **原子替换**: 使用 `Write` 工具直接替换原文件
5. **验证确认**: 再次读取文件确认优化结果

## 错误处理

- **文件不存在**: 如果目标文件不存在，立即报告错误并停止执行
- **权限异常**: 遇到读写权限问题时，提供清晰的错误信息
- **格式错误**: 如果文件格式不正确，说明具体问题并提供修复建议

**输出格式 (Output Format):**
优化完成后，提供简洁的改进总结，包括：

- 主要改进点（1-3项）
- 关键变更说明
- 使用建议（如适用）
